name: Daily Price Scraper (Local)

on:
  schedule:
    - cron: '0 4 * * *'
  workflow_dispatch:

jobs:
  scrape_job:
    runs-on: self-hosted
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Install Libraries
        run: |
          python -m pip install --upgrade pip
          python -m pip install selenium webdriver-manager gspread oauth2client

      # --- ĐÃ XÓA BƯỚC "Create Service Account File" ---
      # Lý do: Python sẽ tự đọc file C:\AutoPrice\service_account.json
      # Không cần GitHub tạo file nữa -> Hết lỗi file rỗng.
      # -------------------------------------------------

      - name: Run Main Script
        run: python main_local.py
